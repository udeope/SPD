let express = require("express");
let app = express();
let ejs = require("ejs");
let pdf = require("html-pdf");
let path = require("path");

let farmacia = {
  titular: "Joy",
  direction: "joy@example.com",
  fullName: "New York",
  dni: "478946",
  tarjetaSanitaria: "123456",
  iban: "987654321",
  base64: iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAABmJLR0QA/wD/AP+gvaeTAAAgAElEQVR4nO3deVhUZf8G8BuQRUzFBRXcUnFXkhJNy1wwF9Tc0/e1MJfctVwqzcql3LUkM7cyFXMtTUy01Py5F6Qo5EaKsigCKpvsMN/fH1wzr8g28zA4LPfnurwumTnnOd9hmLnPec5znmMmIgIiIiIDmZu6ACIiKpkYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCBERKSEAUJEREoYIEREpIQBQkREShggRESkhAFCRERKGCAlyB9//IHGjRvj4MGDpi6FSrj09HQsWrQIHTt2REREhKnLoRKqnKkLIP0kJSVh7NixuH37Ni5duoR+/fqZuiQqoVJTU/HGG2/g999/BwCEhITAwcHBxFVRScQjkBLi888/x+3btwEAffr0MXE1VFJlZmZi2LBhuvBo2rQp2rVrZ+KqqKRigJQA9+/fx+rVqwEADRo0wIsvvmjiikgfkZGRCAwMNHUZ2Xz55Zc4cOCA7ueZM2fC3JxfA6SGfzklgKenJ1JSUgAAb775pomrIX2kpKSgffv2cHFxQUxMjKnLAQAEBQVh3rx5up9r1KiBt99+24QVUUnHACnmEhISsG7dOt3P77zzjumKIb1t3boVISEhcHR0RKVKlUxdDgBgwoQJSE5O1v08ZcoU2NjYmLAiKukYIMXcjz/+iLi4OABAhw4d0KxZMxNXRAXJzMzEypUrAWR1EVlYWJi4IuD48eM4ceKE7mdbW1tMnDjRhBVRacAAKeY2btyo+/+4ceNMWAnpa8+ePbh58yaqV6+OsWPHmrocAMCCBQuy/fzOO++gevXqJqqGSosyOYw3Li4Of/75J/z9/WFtbY0BAwagQYMGpi4rB19fX/j7+wMAqlevjuHDh5u4ItLHV199BQCYOnUqKlSoYOJqso4+Tp8+rfvZwsIC06dPN2FFVFqUqSOQBw8e4IMPPkDr1q1x4sQJNG3aFNWqVcO7776LI0eOmLq8HJ48+hgzZgz7q0uAv/76C35+fqhYsSKmTJli6nIAACtWrMj284ABA+Dk5GSiaqhUkTLi8OHD0qRJE/nqq68kISEh23PJycni6uoqKSkpJqoup9jYWKlQoYIAEAsLC7l9+7ap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IiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIlDBAiIlLCACEiIiUMECIiUsIAISIiJQwQIiJSwgAhIiIl/w+n5wekS8NqPQAAAABJRU5ErkJggg==
};


app.get("/generateReport", (req, res) => {
  ejs.renderFile(
    path.join(__dirname, "./views/", "report-template.ejs"),
    {
      farmacia: farmacia,
    },
    (err, data) => {
      if (err) {
        console.log(err);
        res.send(err);
      } else {
        let options = {
          height: "11.25in",
          width: "8.5in",
          header: {
            height: "20mm",
          },
          footer: {
            height: "20mm",
          },
        };
        pdf.create(data, options).toFile("report.pdf", function (err, data) {
          if (err) {
            res.send(err);
          } else {
            res.send("File created successfully");
          }
        });
      }
    }
  );
});

app.listen(8080);
